<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="dcterms.date" content="2022-07-01">
<meta name="description" content="Methods recorded in code to make future improvements accessible">
<title>Vegetation Water Requirement - Greenbook section III.A.1. Calculation of Vegetation Water Requirement</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><link href="site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="site_libs/vis-9.1.0/vis-network.min.js"></script><script src="site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script><link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.28/datatables.js"></script><script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script><link href="site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="site_libs/selectize-0.12.0/selectize.min.js"></script><link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link rel="stylesheet" href="styles.css">
<meta name="citation_title" content="Greenbook section III.A.1. Calculation of Vegetation Water Requirement">
<meta name="citation_publication_date" content="2024-05-24">
<meta name="citation_cover_date" content="2024-05-24">
<meta name="citation_year" content="2024">
<meta name="citation_online_date" content="2022-07-01">
<meta name="citation_fulltext_html_url" content="https://github.com/inyo-gov/vegetation-water-requirement">
<meta name="citation_language" content="en">
<meta name="citation_technical_report_institution" content="Inyo County Water Department">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Vegetation Water Requirement</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">VWR</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/inyo-gov/vegetation-water-requirement" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#purpose" id="toc-purpose" class="nav-link active" data-scroll-target="#purpose">Purpose</a></li>
  <li><a href="#data-ingestion" id="toc-data-ingestion" class="nav-link" data-scroll-target="#data-ingestion">Data Ingestion</a></li>
  <li><a href="#weighted-average-vwrlai" id="toc-weighted-average-vwrlai" class="nav-link" data-scroll-target="#weighted-average-vwrlai">Weighted average VWR/LAI</a></li>
  <li><a href="#species-level-vwr" id="toc-species-level-vwr" class="nav-link" data-scroll-target="#species-level-vwr">Species level VWR</a></li>
  <li><a href="#site-level-vwr" id="toc-site-level-vwr" class="nav-link" data-scroll-target="#site-level-vwr">Site-level VWR</a></li>
  <li><a href="#locations-of-monitoring-sites" id="toc-locations-of-monitoring-sites" class="nav-link" data-scroll-target="#locations-of-monitoring-sites">Locations of Monitoring Sites</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Greenbook section III.A.1. Calculation of Vegetation Water Requirement</h1>
</div>

<div>
  <div class="description">
    <p>Methods recorded in code to make future improvements accessible</p>
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 1, 2022</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">May 31, 2024</p>
    </div>
  </div>
    
  </div>
  

</header><section id="purpose" class="level1"><h1>Purpose</h1>
<p>The Water Agreement and Green Book established procedures to determine which LADWP pumping wells can be operated based vegetation water requirements. As part of the monitoring effort for the Agreement, the Water Department regularly measures soil water content and vegetation leaf area index (with LADWP) to estimate vegetation water needs at 22 permanent sites located in wellfields and eight sites in control areas. Soil water monitoring is conducted monthly and vegetation monitoring is conducted annually in June.</p>
<p>Each monitoring site is linked to one or more LADWP pumping wells.</p>
<p>On July 1 and October 1, if the soil water is insufficient to meet the needs of the vegetation at a site, the linked pumping wells cannot be operated. The wells must remain off until the soil water exceeds the amount required by the vegetation at the time the wells went off. This is referred to as the On/Off management strategy. During much of the period since this management was implemented in 1990, LADWP has not operated numerous wells in On status in accordance with subsequent agreements with the County.</p>
<p>This website documents the code used to calculate the vegetation water requirements from the annual vegetation monitoring at on/off permanent vegetation transects.</p>
<p>The <code>targets</code> package provides tools to construct a dependency aware analysis pipeline allowing automatic tracking of upstream changes to files which informs which processes are out of date and limits updates to only those downstream dependencies.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.3     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors
There were 13 warnings (use warnings() to see them)</code></pre>
</div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-520c2e67c60d3f6a03bc" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-520c2e67c60d3f6a03bc">{"x":{"nodes":{"name":["cYear","lai_ss","lai_ss_vwrmax","pointframe_file","pointframe_lai","pointframe_long","pointframe_wide","sitesoil","sitesoil_file","vwr","vwr.total","vwr.wide.period","vwrmax_file","vwrmax_lookt","weighted.avg","vwr_site_total_period","vwr_total","weighted_avg"],"type":["stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","function","function","function"],"status":["uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate","uptodate"],"seconds":[0,0.05,0.13,0,0,0,0,0,0,0,0,0.05,0,0,0.03,null,null,null],"bytes":[51,1023,1431,561,1004,528,477,238,311,2444,3837,1035,596,324,1032,null,null,null],"branches":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"label":["cYear","lai_ss","lai_ss_vwrmax","pointframe_file","pointframe_lai","pointframe_long","pointframe_wide","sitesoil","sitesoil_file","vwr","vwr.total","vwr.wide.period","vwrmax_file","vwrmax_lookt","weighted.avg","vwr_site_total_period","vwr_total","weighted_avg"],"color":["#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823","#354823"],"id":["cYear","lai_ss","lai_ss_vwrmax","pointframe_file","pointframe_lai","pointframe_long","pointframe_wide","sitesoil","sitesoil_file","vwr","vwr.total","vwr.wide.period","vwrmax_file","vwrmax_lookt","weighted.avg","vwr_site_total_period","vwr_total","weighted_avg"],"level":[1,6,7,2,5,4,3,2,1,8,10,11,1,2,9,1,1,1],"shape":["dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","triangle","triangle","triangle"]},"edges":{"from":["cYear","vwr.total","vwr_site_total_period","cYear","lai_ss_vwrmax","vwr","vwr_total","weighted.avg","pointframe_wide","pointframe_file","vwr","weighted_avg","lai_ss","vwrmax_lookt","sitesoil_file","vwrmax_file","pointframe_lai","sitesoil","pointframe_long"],"to":["vwr.wide.period","vwr.wide.period","vwr.wide.period","pointframe_file","vwr","vwr.total","vwr.total","vwr.total","pointframe_long","pointframe_wide","weighted.avg","weighted.avg","lai_ss_vwrmax","lai_ss_vwrmax","sitesoil","vwrmax_lookt","lai_ss","lai_ss","pointframe_lai"],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":{"type":"cubicBezier","forceDirection":"horizontal"}},"physics":{"stabilization":false},"interaction":{"zoomSpeed":1},"layout":{"hierarchical":{"enabled":true,"direction":"LR"}}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":{"from":1,"to":1},"algorithm":"hierarchical","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":true,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":false,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Up to date","Stem","Function"],"color":["#354823","#899DA4","#899DA4"],"shape":["dot","dot","triangle"]},"nodesToDataframe":true},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The ‘Stems’ (circles) represent data file input, intermediate and final data wrangling transformations with computations of LAI and VWR. The functions (triangles) take an input stem and output a new stem shown by linkages in the pipeline. Color green indicates the stems and functions are up to date - grey indicates changes have been made since the last <code>tar_make()</code> call.</p>
<p>Once the targets pipeline is made, the targets are stored in <code>_targets/objects</code>. These objects can be read into quarto or rmarkdown documents using tar_read().</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>cYear <span class="ot">&lt;-</span> <span class="fu">tar_read</span>(cYear)<span class="co"># current year</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="data-ingestion" class="level1"><h1>Data Ingestion</h1>
<p>Point frame data is currently entered into excel spreadsheets on field tablets, and species level totals are copy/pasted into a wide format spreadsheet with site as rows and species as columns. This format was necessary in the past becaue the excel formulas were set up in that way. The number represents number of hits for each species in 3 dimensions every 30 cm for 334 pin drops.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">tar_read</span>(pointframe_wide) <span class="sc">%&gt;%</span> <span class="fu">datatable</span>(<span class="at">caption =</span> <span class="fu">paste0</span>(<span class="st">'Point frame data entered in wide format in '</span>,cYear,<span class="st">"."</span>),<span class="at">filter =</span> <span class="fu">c</span>(<span class="st">"top"</span>),<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">autoWidth =</span> <span class="cn">FALSE</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1d120c878a4263dac05e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1d120c878a4263dac05e">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"65\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"42\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"48\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2\" data-max=\"134\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2\" data-max=\"43\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"7\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"60\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Point frame data entered in wide format in 2022.<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],["LW1","LW2","LW3","BC1","BC2","BC3","BP1","BP2","BP3","BP4","TA3","TA4","TA5","TA6","TAC","TS1","TS2","TS3","TS4","TSC","IO1","IO2","IC1","IC2","SS1","SS2","SS3","SS4","BG2","BGC"],[null,7,65,2,0,null,11,null,3,null,12,12,4,9,18,3,6,22,27,4,37,null,null,5,null,null,null,null,null,null],[null,null,1,2,33,14,null,null,null,null,null,4,null,null,42,null,null,19,9,1,null,null,null,1,null,null,null,null,null,null],[null,1,null,48,11,14,null,20,7,1,null,16,1,16,null,null,null,null,7,3,19,null,13,4,null,null,null,null,null,29],[null,2,2,25,null,11,39,23,null,11,15,null,null,38,48,134,2,5,15,null,7,17,32,null,34,8,62,17,8,10],[25,9,null,13,null,null,43,null,36,19,3,null,7,null,null,null,null,null,39,6,null,null,null,2,20,null,null,null,2,null],[null,null,null,null,null,null,null,null,1,null,null,null,7,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null],[1,null,null,15,7,20,1,1,null,2,22,1,5,1,60,2,35,null,1,4,16,1,6,2,null,2,10,null,7,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>site<\/th>\n      <th>SPAI<\/th>\n      <th>DISP<\/th>\n      <th>CHNA<\/th>\n      <th>ATTO<\/th>\n      <th>SAVE<\/th>\n      <th>ATCO<\/th>\n      <th>OTHER<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"autoWidth":false,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8]},{"orderable":false,"targets":0}],"order":[],"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The wide data is transformed into long format (tidy data). It should be noted here that the incoming wide format is an unnecessary intermediate format - a byproduct of doing column-wise calculations in the VWR excel calculator. Going forward, programmatically extracting the site-species-count rows into long format from the data entry spreadsheet should be a goal of the end to end data pipeline.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">tar_read</span>(pointframe_long) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(site,species) <span class="sc">%&gt;%</span> <span class="fu">datatable</span>(<span class="at">caption =</span> <span class="fu">paste0</span>(<span class="st">'Tidy point-frame data (site-species unique row combos) obtained with pivot_longer() function on wide input data above. Data updated in '</span>,cYear,<span class="st">"."</span>),<span class="at">filter =</span> <span class="fu">c</span>(<span class="st">"top"</span>),<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="at">pageLength =</span> <span class="dv">7</span>, <span class="at">autoWidth =</span> <span class="cn">FALSE</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-974dc1050feecab7b880" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-974dc1050feecab7b880">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"134\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Tidy point-frame data (site-species unique row combos) obtained with pivot_longer() function on wide input data above. Data updated in 2022.<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210"],["BC1","BC1","BC1","BC1","BC1","BC1","BC1","BC2","BC2","BC2","BC2","BC2","BC2","BC2","BC3","BC3","BC3","BC3","BC3","BC3","BC3","BG2","BG2","BG2","BG2","BG2","BG2","BG2","BGC","BGC","BGC","BGC","BGC","BGC","BGC","BP1","BP1","BP1","BP1","BP1","BP1","BP1","BP2","BP2","BP2","BP2","BP2","BP2","BP2","BP3","BP3","BP3","BP3","BP3","BP3","BP3","BP4","BP4","BP4","BP4","BP4","BP4","BP4","IC1","IC1","IC1","IC1","IC1","IC1","IC1","IC2","IC2","IC2","IC2","IC2","IC2","IC2","IO1","IO1","IO1","IO1","IO1","IO1","IO1","IO2","IO2","IO2","IO2","IO2","IO2","IO2","LW1","LW1","LW1","LW1","LW1","LW1","LW1","LW2","LW2","LW2","LW2","LW2","LW2","LW2","LW3","LW3","LW3","LW3","LW3","LW3","LW3","SS1","SS1","SS1","SS1","SS1","SS1","SS1","SS2","SS2","SS2","SS2","SS2","SS2","SS2","SS3","SS3","SS3","SS3","SS3","SS3","SS3","SS4","SS4","SS4","SS4","SS4","SS4","SS4","TA3","TA3","TA3","TA3","TA3","TA3","TA3","TA4","TA4","TA4","TA4","TA4","TA4","TA4","TA5","TA5","TA5","TA5","TA5","TA5","TA5","TA6","TA6","TA6","TA6","TA6","TA6","TA6","TAC","TAC","TAC","TAC","TAC","TAC","TAC","TS1","TS1","TS1","TS1","TS1","TS1","TS1","TS2","TS2","TS2","TS2","TS2","TS2","TS2","TS3","TS3","TS3","TS3","TS3","TS3","TS3","TS4","TS4","TS4","TS4","TS4","TS4","TS4","TSC","TSC","TSC","TSC","TSC","TSC","TSC"],["ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI","ATCO","ATTO","CHNA","DISP","OTHER","SAVE","SPAI"],[null,25,48,2,15,13,2,null,null,11,33,7,null,0,null,11,14,14,20,null,null,null,8,null,null,7,2,null,null,10,29,null,null,null,null,null,39,null,null,1,43,11,null,23,20,null,1,null,null,1,null,7,null,null,36,3,null,11,1,null,2,19,null,null,32,13,null,6,null,null,null,null,4,1,2,2,5,null,7,19,null,16,null,37,null,17,null,null,1,null,null,null,null,null,null,1,25,null,null,2,1,null,null,9,7,null,2,null,1,null,null,65,null,34,null,null,null,20,null,null,8,null,null,2,null,null,null,62,null,null,10,null,null,null,17,null,null,null,null,null,null,15,null,null,22,3,12,null,null,16,4,1,null,12,7,null,1,null,5,7,4,null,38,16,null,1,null,9,null,48,null,42,60,null,18,null,134,null,null,2,null,3,null,2,null,null,35,null,6,null,5,null,19,null,null,22,1,15,7,9,1,39,27,1,null,3,1,4,6,4]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>site<\/th>\n      <th>species<\/th>\n      <th>all.hits<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":7,"autoWidth":false,"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"orderClasses":false,"orderCellsTop":true,"lengthMenu":[7,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">tar_read</span>(sitesoil) <span class="sc">%&gt;%</span> <span class="fu">datatable</span>(<span class="at">caption =</span> <span class="fu">paste0</span>(<span class="st">"Site soil texture designation (silt or sand)."</span>),<span class="at">filter =</span> <span class="fu">c</span>(<span class="st">"top"</span>),<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">autoWidth =</span> <span class="cn">FALSE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">tar_read</span>(vwrmax_lookt) <span class="sc">%&gt;%</span> <span class="fu">datatable</span>(<span class="at">caption =</span> <span class="fu">paste0</span>(<span class="st">'Species-level leaf area index (LAI) for July 1, '</span>,cYear,<span class="st">", and VWR max for each period (July or October), site soil texture designation (silt or sand) affecting plant available water."</span>),<span class="at">filter =</span> <span class="fu">c</span>(<span class="st">"top"</span>),<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">autoWidth =</span> <span class="cn">FALSE</span>))<span class="sc">%&gt;%</span> <span class="fu">formatRound</span>(<span class="st">'lai'</span>,<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">tar_read</span>(vwr) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lai<span class="sc">&gt;</span><span class="dv">0</span>) <span class="sc">%&gt;%</span>  <span class="fu">datatable</span>(<span class="at">caption =</span> <span class="fu">paste0</span>(<span class="st">'Species-level VWR at each site computed from multiplying LAI by VWR max for each period (July or October)'</span>),<span class="at">filter =</span> <span class="fu">c</span>(<span class="st">"top"</span>),<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">autoWidth =</span> <span class="cn">FALSE</span>))<span class="sc">%&gt;%</span> <span class="fu">formatRound</span>(<span class="fu">c</span>(<span class="st">'lai'</span>,<span class="st">'vwr_at_lai_max'</span>,<span class="st">'vwr'</span>),<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="weighted-average-vwrlai" class="level1"><h1>Weighted average VWR/LAI</h1>
<p>The sum of vwr for six species divided by sum of lai for six co-ocurring species provides estimates for VWRmax for the <code>OTHER</code> category.</p>
<p>This value is multiplied by the LAI of the <code>OTHER</code> column to obtain VWR for <code>OTHER</code>.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">tar_read</span>(weighted.avg)<span class="sc">%&gt;%</span> <span class="fu">datatable</span>(<span class="at">caption =</span> <span class="fu">paste0</span>(<span class="st">'Site-level weighted average VWR/LAI for '</span>,cYear,<span class="st">", used as VWR max for OTHER species category for each period ()."</span>),<span class="at">filter =</span> <span class="fu">c</span>(<span class="st">"top"</span>),<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">autoWidth =</span> <span class="cn">FALSE</span>))<span class="sc">%&gt;%</span> <span class="fu">formatRound</span>(<span class="fu">c</span>(<span class="st">'w_avg_vwr_per_lai'</span>),<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c8dd186932577abc518a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c8dd186932577abc518a">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"9.3\" data-max=\"36.775\" data-scale=\"14\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\" disabled=\"\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Site-level weighted average VWR/LAI for 2022, used as VWR max for OTHER species category for each period ().<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60"],["BC1","BC1","BC2","BC2","BC3","BC3","BG2","BG2","BGC","BGC","BP1","BP1","BP2","BP2","BP3","BP3","BP4","BP4","IC1","IC1","IC2","IC2","IO1","IO1","IO2","IO2","LW1","LW1","LW2","LW2","LW3","LW3","SS1","SS1","SS2","SS2","SS3","SS3","SS4","SS4","TA3","TA3","TA4","TA4","TA5","TA5","TA6","TA6","TAC","TAC","TS1","TS1","TS2","TS2","TS3","TS3","TS4","TS4","TSC","TSC"],["july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct"],[15.434,28.32333333333333,19.65,36.775,16.47948717948718,30.71794871794871,10.88,19.98,16.21538461538461,29.96666666666666,13.80193548387097,24.99677419354839,13.62558139534884,25.26046511627906,16.67595744680851,29.66382978723404,14.44193548387097,25.85161290322581,11.98666666666667,22.28222222222222,17.6,32.61666666666667,16.3215873015873,30.6015873015873,9.300000000000001,17.4,17.2,30.3,13.63842105263158,24.47368421052632,9.594705882352942,17.61911764705883,12.22592592592593,22.17777777777778,9.300000000000001,17.4,9.300000000000001,17.4,9.300000000000001,17.4,12.962,24.20999999999999,17.98,33.55,12.84842105263158,23.40526315789474,12.68761904761905,23.66349206349206,14.65777777777778,27.55555555555555,9.306350364963503,17.40437956204379,9.5175,17.55,9.930217391304348,18.2804347826087,16.03122448979592,29.32755102040817,16.70133333333333,30.50666666666667],["OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER","OTHER"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>site<\/th>\n      <th>period<\/th>\n      <th>w_avg_vwr_per_lai<\/th>\n      <th>species<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"autoWidth":false,"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
</div>
</section><section id="species-level-vwr" class="level1"><h1>Species level VWR</h1>
<p>Here we combine the site VWRs from the six dominant species and from the OTHER column into a single column.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># join weighted avg VWR/LAI to vwr by site, species, period, and combined </span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">tar_read</span>(vwr.total) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(all.hits <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(site,period,species,lai,total.vwr) <span class="sc">%&gt;%</span>  <span class="fu">datatable</span>(<span class="at">caption =</span> <span class="fu">paste0</span>(<span class="st">"Total VWR for six dominant species and other species combined into one column"</span>),<span class="at">filter =</span> <span class="fu">c</span>(<span class="st">"top"</span>),<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">autoWidth =</span> <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span> <span class="fu">formatRound</span>(<span class="fu">c</span>(<span class="st">'lai'</span>,<span class="st">'total.vwr'</span>),<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-fac601ad0a927516027e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-fac601ad0a927516027e">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.005988023952095\" data-max=\"0.802395209580839\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.033532934131736\" data-max=\"13.9616766467066\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Total VWR for six dominant species and other species combined into one column<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212"],["LW1","LW1","LW1","LW1","LW2","LW2","LW2","LW2","LW2","LW2","LW2","LW2","LW3","LW3","LW3","LW3","LW3","LW3","BC1","BC1","BC1","BC1","BC1","BC1","BC1","BC1","BC1","BC1","BC1","BC1","BC2","BC2","BC2","BC2","BC2","BC2","BC3","BC3","BC3","BC3","BC3","BC3","BC3","BC3","BP1","BP1","BP1","BP1","BP1","BP1","BP1","BP1","BP2","BP2","BP2","BP2","BP2","BP2","BP3","BP3","BP3","BP3","BP3","BP3","BP3","BP3","BP4","BP4","BP4","BP4","BP4","BP4","BP4","BP4","TA3","TA3","TA3","TA3","TA3","TA3","TA3","TA3","TA4","TA4","TA4","TA4","TA4","TA4","TA4","TA4","TA5","TA5","TA5","TA5","TA5","TA5","TA5","TA5","TA5","TA5","TA6","TA6","TA6","TA6","TA6","TA6","TA6","TA6","TAC","TAC","TAC","TAC","TAC","TAC","TAC","TAC","TS1","TS1","TS1","TS1","TS1","TS1","TS2","TS2","TS2","TS2","TS2","TS2","TS3","TS3","TS3","TS3","TS3","TS3","TS4","TS4","TS4","TS4","TS4","TS4","TS4","TS4","TS4","TS4","TS4","TS4","TS4","TS4","TSC","TSC","TSC","TSC","TSC","TSC","TSC","TSC","TSC","TSC","TSC","TSC","IO1","IO1","IO1","IO1","IO1","IO1","IO1","IO1","IO2","IO2","IO2","IO2","IC1","IC1","IC1","IC1","IC1","IC1","IC2","IC2","IC2","IC2","IC2","IC2","IC2","IC2","IC2","IC2","SS1","SS1","SS1","SS1","SS2","SS2","SS2","SS2","SS3","SS3","SS3","SS3","SS4","SS4","BG2","BG2","BG2","BG2","BG2","BG2","BGC","BGC","BGC","BGC"],["july","oct","oct","july","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","oct","july","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","oct","july","july","oct","oct","july","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct","july","oct","oct","july","july","oct","oct","july","july","oct","july","oct","july","oct","oct","july","july","oct","july","oct"],["SAVE","SAVE","OTHER","OTHER","SPAI","SPAI","CHNA","CHNA","ATTO","ATTO","SAVE","SAVE","SPAI","SPAI","DISP","DISP","ATTO","ATTO","SPAI","SPAI","DISP","DISP","CHNA","CHNA","ATTO","ATTO","SAVE","SAVE","OTHER","OTHER","DISP","DISP","CHNA","CHNA","OTHER","OTHER","DISP","DISP","CHNA","CHNA","ATTO","ATTO","OTHER","OTHER","SPAI","SPAI","ATTO","ATTO","SAVE","SAVE","OTHER","OTHER","CHNA","CHNA","ATTO","ATTO","OTHER","OTHER","SPAI","SPAI","CHNA","CHNA","SAVE","SAVE","ATCO","ATCO","CHNA","CHNA","ATTO","ATTO","SAVE","SAVE","OTHER","OTHER","SPAI","SPAI","ATTO","ATTO","SAVE","SAVE","OTHER","OTHER","SPAI","SPAI","DISP","DISP","CHNA","CHNA","OTHER","OTHER","SPAI","SPAI","CHNA","CHNA","SAVE","SAVE","ATCO","ATCO","OTHER","OTHER","SPAI","SPAI","CHNA","CHNA","ATTO","ATTO","OTHER","OTHER","SPAI","SPAI","DISP","DISP","ATTO","ATTO","OTHER","OTHER","SPAI","SPAI","ATTO","ATTO","OTHER","OTHER","SPAI","SPAI","ATTO","ATTO","OTHER","OTHER","SPAI","SPAI","DISP","DISP","ATTO","ATTO","SPAI","SPAI","DISP","DISP","CHNA","CHNA","ATTO","ATTO","SAVE","SAVE","ATCO","ATCO","OTHER","OTHER","SPAI","SPAI","DISP","DISP","CHNA","CHNA","SAVE","SAVE","ATCO","ATCO","OTHER","OTHER","SPAI","SPAI","CHNA","CHNA","ATTO","ATTO","OTHER","OTHER","ATTO","ATTO","OTHER","OTHER","CHNA","CHNA","ATTO","ATTO","OTHER","OTHER","SPAI","SPAI","DISP","DISP","CHNA","CHNA","SAVE","SAVE","OTHER","OTHER","ATTO","ATTO","SAVE","SAVE","ATTO","ATTO","OTHER","OTHER","ATTO","ATTO","OTHER","OTHER","ATTO","ATTO","ATTO","ATTO","SAVE","SAVE","OTHER","OTHER","CHNA","CHNA","ATTO","ATTO"],[0.1497005988023952,0.1497005988023952,0.005988023952095809,0.005988023952095809,0.04191616766467066,0.04191616766467066,0.005988023952095809,0.005988023952095809,0.01197604790419162,0.01197604790419162,0.05389221556886228,0.05389221556886228,0.3892215568862276,0.3892215568862276,0.005988023952095809,0.005988023952095809,0.01197604790419162,0.01197604790419162,0.01197604790419162,0.01197604790419162,0.01197604790419162,0.01197604790419162,0.2874251497005988,0.2874251497005988,0.1497005988023952,0.1497005988023952,0.07784431137724551,0.07784431137724551,0.08982035928143713,0.08982035928143713,0.1976047904191617,0.1976047904191617,0.0658682634730539,0.0658682634730539,0.04191616766467066,0.04191616766467066,0.08383233532934131,0.08383233532934131,0.08383233532934131,0.08383233532934131,0.0658682634730539,0.0658682634730539,0.1197604790419162,0.1197604790419162,0.0658682634730539,0.0658682634730539,0.2335329341317365,0.2335329341317365,0.2574850299401197,0.2574850299401197,0.005988023952095809,0.005988023952095809,0.1197604790419162,0.1197604790419162,0.1377245508982036,0.1377245508982036,0.005988023952095809,0.005988023952095809,0.01796407185628742,0.01796407185628742,0.04191616766467066,0.04191616766467066,0.2155688622754491,0.2155688622754491,0.005988023952095809,0.005988023952095809,0.005988023952095809,0.005988023952095809,0.0658682634730539,0.0658682634730539,0.1137724550898204,0.1137724550898204,0.01197604790419162,0.01197604790419162,0.0718562874251497,0.0718562874251497,0.08982035928143713,0.08982035928143713,0.01796407185628742,0.01796407185628742,0.1317365269461078,0.1317365269461078,0.0718562874251497,0.0718562874251497,0.02395209580838323,0.02395209580838323,0.09580838323353294,0.09580838323353294,0.005988023952095809,0.005988023952095809,0.02395209580838323,0.02395209580838323,0.005988023952095809,0.005988023952095809,0.04191616766467066,0.04191616766467066,0.04191616766467066,0.04191616766467066,0.02994011976047904,0.02994011976047904,0.05389221556886228,0.05389221556886228,0.09580838323353294,0.09580838323353294,0.2275449101796407,0.2275449101796407,0.005988023952095809,0.005988023952095809,0.1077844311377246,0.1077844311377246,0.2514970059880239,0.2514970059880239,0.2874251497005988,0.2874251497005988,0.3592814371257485,0.3592814371257485,0.01796407185628742,0.01796407185628742,0.8023952095808383,0.8023952095808383,0.01197604790419162,0.01197604790419162,0.03592814371257485,0.03592814371257485,0.01197604790419162,0.01197604790419162,0.2095808383233533,0.2095808383233533,0.1317365269461078,0.1317365269461078,0.1137724550898204,0.1137724550898204,0.02994011976047904,0.02994011976047904,0.1616766467065868,0.1616766467065868,0.05389221556886228,0.05389221556886228,0.04191616766467066,0.04191616766467066,0.08982035928143713,0.08982035928143713,0.2335329341317365,0.2335329341317365,0.005988023952095809,0.005988023952095809,0.005988023952095809,0.005988023952095809,0.02395209580838323,0.02395209580838323,0.005988023952095809,0.005988023952095809,0.01796407185628742,0.01796407185628742,0.03592814371257485,0.03592814371257485,0.005988023952095809,0.005988023952095809,0.02395209580838323,0.02395209580838323,0.2215568862275449,0.2215568862275449,0.1137724550898204,0.1137724550898204,0.04191616766467066,0.04191616766467066,0.09580838323353294,0.09580838323353294,0.1017964071856287,0.1017964071856287,0.005988023952095809,0.005988023952095809,0.07784431137724551,0.07784431137724551,0.1916167664670659,0.1916167664670659,0.03592814371257485,0.03592814371257485,0.02994011976047904,0.02994011976047904,0.005988023952095809,0.005988023952095809,0.02395209580838323,0.02395209580838323,0.01197604790419162,0.01197604790419162,0.01197604790419162,0.01197604790419162,0.2035928143712575,0.2035928143712575,0.1197604790419162,0.1197604790419162,0.04790419161676647,0.04790419161676647,0.01197604790419162,0.01197604790419162,0.3712574850299401,0.3712574850299401,0.05988023952095808,0.05988023952095808,0.1017964071856287,0.1017964071856287,0.04790419161676647,0.04790419161676647,0.01197604790419162,0.01197604790419162,0.04191616766467066,0.04191616766467066,0.1736526946107785,0.1736526946107785,0.05988023952095808,0.05988023952095808],[2.574850299401197,4.535928143712574,0.181437125748503,0.1029940119760479,0.4019760479041916,0.7377245508982037,0.1113772455089821,0.2053892215568862,0.1113772455089821,0.2083832335329341,0.9269461077844311,1.632934131736527,3.732634730538922,6.850299401197605,0.06281437125748504,0.1155688622754491,0.1113772455089821,0.2083832335329341,0.1148502994011976,0.2107784431137725,0.1256287425149701,0.2311377245508982,5.346107784431138,9.858682634730538,1.392215568862275,2.604790419161676,1.338922155688623,2.358682634730539,2.544011976047904,1.386287425149701,3.952095808383234,7.429940119760479,1.225149700598803,2.259281437125749,1.541467065868263,0.8236526946107783,1.676646706586826,3.152095808383233,1.559281437125749,2.875449101796407,0.6125748502994013,1.146107784431138,3.678796253646552,1.973591278980501,1.085508982035928,2.055089820359282,2.17185628742515,4.063473053892215,4.428742514970059,7.801796407185628,0.1496812825960981,0.08264632026270041,2.227544910179641,4.107784431137724,1.280838323353294,2.396407185628743,0.1512602701573597,0.08159030775657987,0.1722754491017964,0.3161676646706587,0.7796407185628743,1.437724550898203,3.707784431137724,6.531736526946109,0.03353293413173652,0.062874251497006,0.1113772455089821,0.2053892215568862,0.6125748502994013,1.146107784431138,1.95688622754491,3.447305389221557,0.3096001545296504,0.1729573111840834,1.184191616766467,2.24191616766467,0.8353293413173654,1.562874251497006,0.3089820359281437,0.5443113772455089,3.189341317365269,1.707568862275449,1.184191616766467,2.24191616766467,0.4790419161676647,0.9005988023952096,1.782035928143713,3.286227544910179,0.2008982035928144,0.1076646706586826,0.3947305389221557,0.7473053892215569,0.1113772455089821,0.2053892215568862,0.7209580838323353,1.270059880239521,0.2347305389221556,0.4401197604790419,0.7007563819728964,0.3846832650488497,0.8881437125748504,1.681437125748503,1.782035928143713,3.286227544910179,2.116167664670659,3.959281437125748,0.1416975572664196,0.07597376675220989,1.776287425149701,3.362874251497006,5.029940119760479,9.4562874251497,2.673053892215569,5.001197604790419,9.900199600798402,5.266267465069861,0.1722754491017964,0.3161676646706587,7.462275449101797,13.96167664670659,0.20843568337777,0.1114532977839941,0.3445508982035928,0.6323353293413174,0.1113772455089821,0.2083832335329341,3.67814371257485,1.994685628742515,1.263353293413174,2.318562874251497,1.193473053892216,2.195808383233533,0.2784431137724551,0.5209580838323353,2.664431137724551,5.044311377245509,1.077844311377246,2.026347305389222,0.7796407185628743,1.437724550898203,0.8353293413173654,1.562874251497006,4.016766467065868,7.076047904191618,0.03353293413173652,0.062874251497006,0.175614077966516,0.09599535622632288,0.3947305389221557,0.7473053892215569,0.1197604790419162,0.2251497005988024,0.3341317365269461,0.6161676646706586,0.6179640718562873,1.088622754491018,0.03353293413173652,0.062874251497006,0.7306986027944112,0.4000319361277445,3.65125748502994,6.912574850299401,2.116167664670659,3.902395209580838,0.3898203592814372,0.7293413173652693,2.931888603744891,1.563744891170041,0.9467065868263473,1.77125748502994,0.1041916167664671,0.05568862275449103,1.447904191616767,2.670059880239521,1.782035928143713,3.334131736526946,0.8005588822355288,0.4306586826347305,0.4934131736526946,0.9341317365269461,0.1197604790419162,0.2251497005988024,0.4455089820359282,0.8215568862275449,0.2059880239520958,0.362874251497006,0.39061876247505,0.2107784431137725,1.893413173652695,3.54251497005988,2.059880239520958,3.62874251497006,0.4455089820359282,0.8335329341317365,0.2083832335329341,0.1113772455089821,3.452694610778443,6.459880239520957,1.041916167664671,0.5568862275449102,0.9467065868263473,1.77125748502994,0.4455089820359282,0.8335329341317365,0.2059880239520958,0.362874251497006,0.8374850299401195,0.4560479041916168,3.229940119760479,5.9562874251497,0.5568862275449102,1.041916167664671]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>site<\/th>\n      <th>period<\/th>\n      <th>species<\/th>\n      <th>lai<\/th>\n      <th>total.vwr<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"autoWidth":false,"columnDefs":[{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[4,5]},{"orderable":false,"targets":0}],"order":[],"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
</section><section id="site-level-vwr" class="level1"><h1>Site-level VWR</h1>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">tar_read</span>(vwr.wide.period) <span class="sc">%&gt;%</span> <span class="fu">datatable</span>(<span class="at">caption =</span> <span class="fu">paste0</span>(<span class="st">'Vegetation water requirements (cm) July 1 (half year) and Oct 1 (full year), for '</span>,cYear,<span class="st">', calculated according to Greenbook section III.A.1.'</span>),<span class="at">filter =</span> <span class="fu">c</span>(<span class="st">"top"</span>),<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">autoWidth =</span> <span class="cn">FALSE</span>),<span class="at">colnames =</span> <span class="fu">c</span>(<span class="st">'Site'</span>,<span class="st">'July'</span>,<span class="st">'October'</span>)) <span class="sc">%&gt;%</span> <span class="fu">formatRound</span>(<span class="fu">c</span>(<span class="st">'july'</span>,<span class="st">'oct'</span>),<span class="dv">2</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ed73ffae95d6e6d30539" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ed73ffae95d6e6d30539">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;LW1&quot;,&quot;LW2&quot;,&quot;LW3&quot;,&quot;BC1&quot;,&quot;BC2&quot;,&quot;BC3&quot;,&quot;BP1&quot;,&quot;BP2&quot;,&quot;BP3&quot;,&quot;BP4&quot;,&quot;TA3&quot;,&quot;TA4&quot;,&quot;TA5&quot;,&quot;TA6&quot;,&quot;TAC&quot;,&quot;TS1&quot;,&quot;TS2&quot;,&quot;TS3&quot;,&quot;TS4&quot;,&quot;TSC&quot;,&quot;IO1&quot;,&quot;IO2&quot;,&quot;IC1&quot;,&quot;IC2&quot;,&quot;SS1&quot;,&quot;SS2&quot;,&quot;SS3&quot;,&quot;SS4&quot;,&quot;BG2&quot;,&quot;BGC&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.55688622754491\" data-max=\"14.7455489021956\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1.04191616766467\" data-max=\"27.7205588822355\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Vegetation water requirements (cm) July 1 (half year) and Oct 1 (full year), for 2022, calculated according to Greenbook section III.A.1.<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],["LW1","LW2","LW3","BC1","BC2","BC3","BP1","BP2","BP3","BP4","TA3","TA4","TA5","TA6","TAC","TS1","TS2","TS3","TS4","TSC","IO1","IO2","IC1","IC2","SS1","SS2","SS3","SS4","BG2","BGC"],[2.677844311377245,1.551676646706587,3.906826347305389,9.704011976047905,6.000898203592815,5.822094272992477,7.768754104693838,3.589973541289515,4.693233532934132,2.853795634537377,4.036071856287426,3.552934131736527,1.846479672234478,4.862321072141432,14.74554890219561,7.746004195987587,2.45061377245509,2.735269461077845,9.503540266405963,1.900151696606786,7.720990400152077,1.002395209580838,3.66059880239521,1.475449101796407,3.953293413173653,0.5568862275449102,4.009580838323354,0.9467065868263473,1.107544910179641,3.786826347305389],[4.717365269461077,2.784431137724551,7.174251497005988,17.80808383233533,11.23068862275449,10.85244894825733,14.07004056403322,6.655451886923826,8.348502994011977,5.108402549739231,7.538443113772454,6.629640718562873,3.363630633469902,9.06864366505085,27.72055888223553,14.48627999475501,4.518862275449102,5.035329341317365,17.38579371868508,3.470818363273453,14.4761999809904,1.875449101796407,6.804750499001996,2.734331337325349,7.17125748502994,1.041916167664671,7.501796407185628,1.77125748502994,2.033892215568862,6.99820359281437]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Site<\/th>\n      <th>July<\/th>\n      <th>October<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"autoWidth":false,"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
</section><section id="locations-of-monitoring-sites" class="level1"><h1>Locations of Monitoring Sites</h1>
<p>Sites can be viewed by using the left pull out arrow and selecting a monitoring site to zoom to.</p>
<iframe src="https://www.arcgis.com/apps/dashboards/cc4c1795b7f946df832ee4fa2a87d616" height="500" width="800" style="border: 1px solid #464646;" allowfullscreen="" allow="autoplay" data-external="1">
</iframe>


</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@report{2024,
  author = {},
  publisher = {Inyo County Water Department},
  title = {Greenbook Section {III.A.1.} {Calculation} of {Vegetation}
    {Water} {Requirement}},
  date = {2024-05-24},
  url = {https://github.com/inyo-gov/vegetation-water-requirement},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-2024" class="csl-entry quarto-appendix-citeas" role="listitem">
<span>“Greenbook Section III.A.1. Calculation of Vegetation Water
Requirement.”</span> 2024. <em>Green Book Section III On/Off Pumping
Management</em>. Inyo County Water Department. <a href="https://github.com/inyo-gov/vegetation-water-requirement">https://github.com/inyo-gov/vegetation-water-requirement</a>.
</div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>